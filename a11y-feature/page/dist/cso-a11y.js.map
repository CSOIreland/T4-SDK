{"version":3,"file":"cso-a11y.js","sources":["../../src/constants.mjs","../../../../../../../../typings/button-options.ts","../../../../../../../../i18n/lang-map.ts","../../../../../../../../utils/lang.ts","../../../../../../../../template.ts","../../../../../../../../core.ts","../../../../../../../../index.ts"],"sourcesContent":["export const CLASS_PREFIX = \"cso-a11y\";\n/**\n * Container for the whole feature.\n */\nexport const MAIN_CONTAINER = `${CLASS_PREFIX}-container`;\n/**\n * Container for menu options.\n */\nexport const MENU_CONTAINER = `${CLASS_PREFIX}-menu-container`;\n/**\n * Menu button to trigger options.\n */\nexport const MENU_BUTTON = `${CLASS_PREFIX}-menu-button`;\n/**\n * Button to initialise the menu.\n */\nexport const TOGGLE_BUTTON = `${CLASS_PREFIX}-toggle-button`;\n\nexport default {\n    CLASS_PREFIX,\n    MAIN_CONTAINER,\n    MENU_CONTAINER,\n    MENU_BUTTON,\n    TOGGLE_BUTTON\n}","// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { MENU_BUTTON } from \"../constants.mjs\";\n\nexport enum ButtonOptEnum {\n  FONT_SIZE = `${MENU_BUTTON}--font-size`,\n  LETTER_SPACING = `${MENU_BUTTON}--letter-spacing`,\n  LEGIBLE_FONT = `${MENU_BUTTON}--legible-font`,\n  HIGHLIGHT_LINKS = `${MENU_BUTTON}--highlight-links`,\n  CONTRAST = `${MENU_BUTTON}--contrast`,\n  LARGE_POINTER = `${MENU_BUTTON}--large-pointer`,\n  RESET = `${MENU_BUTTON}--reset`,\n}\n\nexport interface ButtonOpt {\n  /**\n   * With this we can reference the language map {@link LANG_MAP} and assign attributes.\n   */\n  type: ButtonOptEnum;\n  /**\n   * Some opts have a range of values, e.g. font size.\n   * If a button has only a true false value, then we can assign a value of 1.\n   * @value number is 0 no bars will be displayed\n   * @default 1\n   */\n  levels: number;\n\n  /**\n   * Font awesome icon name.\n   */\n  icon?: string;\n}","import { ButtonOptEnum } from \"../typings/button-options\";\n\nexport const LANG_MAP = {\n  en: {\n    [ButtonOptEnum.FONT_SIZE]: \"Font size\",\n    [ButtonOptEnum.LETTER_SPACING]: \"Letter spacing\",\n    [ButtonOptEnum.LEGIBLE_FONT]: \"Legible font\",\n    [ButtonOptEnum.HIGHLIGHT_LINKS]: \"Highlight links\",\n    [ButtonOptEnum.CONTRAST]: \"Contrast\",\n    [ButtonOptEnum.LARGE_POINTER]: \"Larger pointer\",\n    [ButtonOptEnum.RESET]: \"Reset\",\n    \"menuHeader\": \"Accessibility options\",\n  },\n  baile: {\n    [ButtonOptEnum.FONT_SIZE]: \"Méid cló\",\n    [ButtonOptEnum.LETTER_SPACING]: \"Spásáil litreacha\",\n    [ButtonOptEnum.LEGIBLE_FONT]: \"Cló inléite\",\n    [ButtonOptEnum.HIGHLIGHT_LINKS]: \"Aibhsigh naisc\",\n    [ButtonOptEnum.CONTRAST]: \"Codarsnacht\",\n    [ButtonOptEnum.LARGE_POINTER]: \"Pointeoir mór\",\n    [ButtonOptEnum.RESET]: \"Athshocraigh\",\n    \"menuHeader\": \"Roghanna inrochtaineachta\",\n  },\n};\n","import { Lang } from \"../typings/langs\";\n\n/**\n * Language of the page is not correctly set in the HTML tag, so we need to get it from the URL.\n * @returns 'baile' | 'en'\n */\nexport const getPageLang = (): Lang => {\n    return window.location.pathname.includes('baile') ? 'baile' : 'en';\n}","import { MAIN_CONTAINER, MENU_BUTTON, MENU_CONTAINER, TOGGLE_BUTTON } from \"./constants.mjs\";\nimport { LANG_MAP } from \"./i18n/lang-map\";\nimport { ButtonOpt, ButtonOptEnum } from \"./typings/button-options\";\nimport { Lang } from \"./typings/langs\";\nimport { getPageLang } from \"./utils/lang\";\n\nexport const BUTTON_OPTS: ButtonOpt[] = [\n    {\n        type: ButtonOptEnum.FONT_SIZE,\n        levels: 4,\n        icon: 'text-height'\n    },\n\n    {\n        type: ButtonOptEnum.LETTER_SPACING,\n        levels: 4,\n        icon: 'text-width'\n    },\n\n    {\n        type: ButtonOptEnum.LEGIBLE_FONT,\n        levels: 1,\n        icon: 'font'\n    },\n\n    {\n        type: ButtonOptEnum.HIGHLIGHT_LINKS,\n        levels: 1,\n        icon: 'underline'\n    },\n\n    {\n        type: ButtonOptEnum.CONTRAST,\n        levels: 4,\n        icon: 'adjust'\n    },\n\n    {\n        type: ButtonOptEnum.LARGE_POINTER,\n        levels: 1,\n        icon: 'mouse-pointer'\n    },\n\n\n    {\n        type: ButtonOptEnum.RESET,\n        levels: 0,\n        icon: 'rotate-left'\n    },\n]\n\n\n/**\n * Create template for the menu.\n * @param forceLang Can be used to force a language, e.g. when testing.\n * @returns Node element\n */\nexport const getMenuTemplate = (forceLang?: Lang) => {\n    const lang = forceLang || getPageLang();\n    const langMap = LANG_MAP[lang];\n\n    const container = document.createElement('div');\n    container.classList.add(MENU_CONTAINER);\n\n    const menuTitle = document.createElement('div');\n    menuTitle.classList.add('__menu-title');\n    menuTitle.append(langMap.menuHeader);\n\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('__btn-wrapper');\n\n    const buttons = BUTTON_OPTS.map((opt) => {\n        const button = document.createElement('button');\n        button.classList.add(MENU_BUTTON);\n        button.setAttribute(`data-btn-type`, opt.type);\n        button.setAttribute(`data-value`, '0');\n\n        if (opt.icon) {\n            const icon = document.createElement('i');\n            icon.classList.add('fa', `fa-${opt.icon}`);\n            button.append(icon);\n        }\n\n        // add toggle bar indicator below button\n        const barWrapper = document.createElement('div');\n        barWrapper.classList.add('__bar--wrapper');\n\n        const bars = Array.from({ length: opt.levels }, () => {\n            const b = document.createElement('div');\n            b.classList.add('__bar');\n\n            return b\n        });\n        barWrapper.append(...bars);\n        barWrapper.classList.add(`__bar--wrapper--size-${opt.levels}`);\n\n        const text = document.createElement('span');\n        text.append(langMap[opt.type]);\n\n        button.append(text);\n\n        if (bars.length) {\n            button.append(barWrapper);\n        }\n\n        return button;\n    });\n\n\n\n    wrapper.append(...buttons);\n    container.append(menuTitle, wrapper);\n\n    return container;\n}\n\n/**\n * Create template for the main container that holds the menu.\n * @param forceLang Can be used to force a language, e.g. when testing.\n * @returns Node element\n */\nexport const getTemplate = (forceLang?: Lang) => {\n    const container = document.createElement('div');\n    container.classList.add(MAIN_CONTAINER);\n\n    const toggleButton = document.createElement('button');\n    toggleButton.classList.add(TOGGLE_BUTTON);\n\n    const menuTemp = getMenuTemplate(forceLang);\n\n    container.append(toggleButton, menuTemp);\n\n    return container;\n}","import { getTemplate } from \"./template\";\n\nexport default class CSOA11y {\n    template!: Document;\n\n    constructor() {\n        console.log('A11y initialized');\n        this.init();\n    }\n\n    init() {\n        try {\n            // console.log(\"Template string test\", { tempstr: getTemplateStr() });\n            this.attachToDOM();\n        } catch (e) {\n            console.error(\"Can't build template. Err: \", e);\n\n            return;\n        }\n    }\n\n    // init() {\n    //     try {\n    //         console.log(\"Template string test\", { tempstr: getTemplateStr() });\n    //         this.template = this.buildTemplate(getTemplateStr());\n    //     } catch (e) {\n    //         console.error(\"Can't build template. Err: \", e);\n\n    //         return;\n    //     }\n\n    //     console.log(\"Built template\", { template: this.template });\n    // }\n\n\n    attachToDOM() {\n        const temp = getTemplate();\n\n        globalThis.document.body.appendChild(temp);\n    }\n}","import './assets/index.scss';\nimport CSOA11y from './core';\n\nnew CSOA11y();"],"names":[],"mappings":"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"}