 <div class="px-stat-widget" id="px-stat-widget-<t4 type="meta" meta="content_id" />">
   <div class="module">
      <div class="moduleHeader <t4 type="content" output="selective-output" modifiers="" name="Table Closed" format="moduleHeaderClosed" />">
        <t4 type="content" output="selective-output" process-format="true" modifiers="" name="Table Closed" format="<i name=&quot;open-close-icon&quot; class=&quot;fa fa-plus-circle&quot; aria-hidden=&quot;true&quot;></i>" /> 
        <span class="px-stat-widget-heading">
<t4 type="content" name="Title" output="normal" modifiers="htmlentities" />
         </span>
      </div>
      <div class="moduleBody" <t4 type="content" output="selective-output" modifiers="" name="Table Closed" format="style=&quot;display: none&quot;" />>
    <div class="csv-to-datatable-wrapper">  
   <table id="csv-to-datatable<t4 type="meta" meta="content_id" />" class="display" style="width:100%">
        <thead>
            <tr name="header-row"></tr>
        </thead>
        <tbody></tbody>
    </table>
	
      <t4 type="content" name="PxStat Link 1" output="selective-output" modifiers="htmlentities" format="<p style=&quot;text-align: right;&quot;><a href=&quot;$value&quot; target=&quot;_blank&quot;>$value</a></p>" />
	  
	   <t4 type="content" name="PxStat Link 2" output="selective-output" modifiers="htmlentities" format="<p style=&quot;text-align: right;&quot;><a href=&quot;$value&quot; target=&quot;_blank&quot;>$value</a></p>" />
	   
	    <t4 type="content" name="PxStat Link 3" output="selective-output" modifiers="htmlentities" format="<p style=&quot;text-align: right;&quot;><a href=&quot;$value&quot; target=&quot;_blank&quot;>$value</a></p>" />
  </div>
    <t4 type="content" name="Footnote" output="selective-output" modifiers="medialibrary,nav_sections" format="<span class=&quot;footnote&quot;>$value</span>" />
      </div>
   </div>
</div>
    <script>
    $(document).ready(function () {
    var fileName = "<t4 type="content" name="Title" output="normal" modifiers="striptags,htmlentities,js-var" />"
   fileName = fileName.replace(/\s/g, '_').toLowerCase();
    var data = Papa.parse("<t4 type="content" name="CSV data" output="normal" modifiers="js-var" />", {
                    header: true,
                    skipEmptyLines: true
                });
    
    
     var tableColumns = [];
            $.each(data.meta.fields, function (index, value) {
                // Draw heading
                var tableHeading = $("<th>", {
                    "html": value
                });

                $("#csv-to-datatable<t4 type="meta" meta="content_id" />").find("[name=header-row]").append(tableHeading);

                // Append datatable column
                tableColumns.push(
                    {
                        data: value
                    }
                )
            });

            $("#csv-to-datatable<t4 type="meta" meta="content_id" />").DataTable({
                <t4 type="content" output="selective-output" modifiers="" name="No Pagination" format="paging: false," />
                data: data.data,
                columns: tableColumns,
              "order": [],
                "dom": "Bfltip",
        		"scrollX": true,
        		"responsive": false,
       			 "buttons": [{
                "extend": "csv",
                "text": "Download CSV",
                "className": "export-button",
                "title": fileName
            }, {
                "extend": "print",
                "text": "Print",
                "className": "export-button"
            }
        ]
            });
    
    
    
    
  $("#px-stat-widget-<t4 type="meta" meta="content_id" /> .moduleHeaderClosed").on("click", function(){
    $("#px-stat-widget-<t4 type="meta" meta="content_id" /> .moduleBody").slideToggle(600, function(){
    
      
      if($("#px-stat-widget-<t4 type="meta" meta="content_id" /> .moduleBody").is(":visible")) {
      
        $("#px-stat-widget-<t4 type="meta" meta="content_id" /> .moduleHeaderClosed").find("[name=open-close-icon]").removeClass().addClass("fa fa-minus-circle")
        
      }
      else {
      $("#px-stat-widget-<t4 type="meta" meta="content_id" /> .moduleHeaderClosed").find("[name=open-close-icon]").removeClass().addClass("fa fa-plus-circle")
      }
    
    });  
    
    
    });
    
    });
    </script>